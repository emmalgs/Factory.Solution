@{
  Layout = "_Layout";
}

@using Factory.Models

<h2>Factory Locations</h2>

@if (Model.Count == 0)
{
  <p>Please add a factory location.</p>
}
else
{
  <table class="table-bordered">
  <tr>
    <th scope="col">City</th>
    <th scope="col">Country</th>
    <th scope="col">Engineers</th>
    <th scope="col">Machines</th>
  </tr>
  @foreach (Location location in Model)
    {
      <tr>
        <td>
          @Html.ActionLink($"{location.City}", "Details", new { id =
      location.LocationId })
        </td>
        <td>@location.Country</td>
        
          @if (location.Engineers.Count == 0)
          {
            <td>There are no engineers at this location.</td>
          }
          else
          {
            <td>
              @foreach (Engineer engineer in location.Engineers)
              {
                <li>@engineer.Name</li>
              }
            </td>
          }
          @if (location.Machines.Count == 0)
          {
            <td>There are no machines at this location.</td>
          }
          else
          {
            <td>
              @foreach (Machine machine in location.Machines)
              {
                <li>@machine.Name</li>
              }
            </td>
          }
      </tr>
    }
  </table>
}

@Html.ActionLink("Add Location", "Create")